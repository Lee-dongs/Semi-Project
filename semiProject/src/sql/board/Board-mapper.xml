<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<entry key="selectListCount">
		SELECT COUNT(*) AS COUNT
		FROM BOARD
		WHERE STATUS = 'Y'
	</entry>
	<entry key="selectList">
	SELECT *
	FROM (SELECT ROWNUM RNUM, A.*
		  FROM(SELECT BOARD_NO,LOCATION_NAME, BOARD_TITLE, USER_ID,COUNT, CREATE_DATE
			   FROM BOARD B 
			   JOIN MEMBER M ON (B.BOARD_WRITER = M.USER_NO)
			   JOIN LOCATION L ON(B.LOCATION_CODE = L.LOCATION_CODE)
			   WHERE B.STATUS = 'Y'
			   ORDER BY CREATE_DATE DESC) A)
	WHERE RNUM BETWEEN ? AND ?
	</entry>
	<entry key="selectLocation">
		SELECT LOCATION_CODE, LOCATION_NAME
		FROM LOCATION
	</entry>
	<entry key="insertBoard">
	    INSERT INTO BOARD(BOARD_NO,BOARD_WRITER,LOCATION_CODE,BOARD_TITLE, BOARD_CONTENT) 
	    VALUES(SEQ_BNO.NEXTVAL,?,?,?,?)
	</entry>
	<entry key="insertAttachment">
		INSERT INTO ATTACHMENT(BOARD_FILE_NO
							  ,BOARD_REF_BNO
							  ,ORIGIN_NAME
							  ,CHANGE_NAME
							  ,FILE_PATH
							  )
		VALUES(SEQ_FNO.NEXTVAL,SEQ_BNO.CURRVAL,?,?,?)
	</entry>
	<entry key="increaseCount">
		UPDATE BOARD
		SET COUNT = COUNT+1
		WHERE BOARD_NO = ?
		AND STATUS = 'Y'
	</entry>
	<entry key="selectBoard">
		SELECT BOARD_NO, LOCATION_NAME,BOARD_TITLE,BOARD_CONTENT,USER_ID,CREATE_DATE,COUNT
		FROM BOARD B
		LEFT JOIN LOCATION L ON (B.LOCATION_CODE = L.LOCATION_CODE)
		JOIN MEMBER M ON (B.BOARD_WRITER = M.USER_NO)
		WHERE B.BOARD_NO = ?
		AND B.STATUS = 'Y'
	</entry>
	<entry key="selectAttachment">
		SELECT BOARD_FILE_NO,ORIGIN_NAME,CHANGE_NAME,FILE_PATH
		FROM BOARD_ATTACHMENT
		WHERE BOARD_REF_BNO = ?
		AND STATUS = 'Y'
	</entry>
	<entry key="searchTitle">
		SELECT *
		FROM (SELECT ROWNUM RNUM, A.*
		  FROM(SELECT BOARD_NO,LOCATION_NAME, BOARD_TITLE, USER_ID,COUNT, CREATE_DATE
			   FROM BOARD B 
			   JOIN MEMBER M ON (B.BOARD_WRITER = M.USER_NO)
			   JOIN LOCATION L ON(B.LOCATION_CODE = L.LOCATION_CODE)
			   WHERE B.STATUS = 'Y'
			   AND BOARD_TITLE LIKE '%'||?||'%'
			   ORDER BY CREATE_DATE DESC) A)
		WHERE RNUM BETWEEN ? AND ?
	</entry>
	<entry key="searchContent">
		SELECT *
		FROM (SELECT ROWNUM RNUM, A.*
		  FROM(SELECT BOARD_NO,LOCATION_NAME, BOARD_TITLE, USER_ID,COUNT, CREATE_DATE
			   FROM BOARD B 
			   JOIN MEMBER M ON (B.BOARD_WRITER = M.USER_NO)
			   JOIN LOCATION L ON(B.LOCATION_CODE = L.LOCATION_CODE)
			   WHERE B.STATUS = 'Y'
			   AND BOARD_CONTENT LIKE '%'||?||'%'
			   ORDER BY CREATE_DATE DESC) A)
		WHERE RNUM BETWEEN ? AND ?
	</entry>
	<entry key="searchWriter">
		SELECT *
		FROM (SELECT ROWNUM RNUM, A.*
		  FROM(SELECT BOARD_NO,LOCATION_NAME, BOARD_TITLE, USER_ID,COUNT, CREATE_DATE
			   FROM BOARD B 
			   JOIN MEMBER M ON (B.BOARD_WRITER = M.USER_NO)
			   JOIN LOCATION L ON(B.LOCATION_CODE = L.LOCATION_CODE)
			   WHERE B.STATUS = 'Y'
			   AND M.USER_ID LIKE '%'||?||'%'
			   ORDER BY CREATE_DATE DESC) A)
		WHERE RNUM BETWEEN ? AND ?
	</entry>
	<entry key="mostViewList">
		SELECT *
		FROM (SELECT ROWNUM RNUM, A.*
		  FROM(SELECT BOARD_NO,LOCATION_NAME, BOARD_TITLE, USER_ID,COUNT, CREATE_DATE
			   FROM BOARD B 
			   JOIN MEMBER M ON (B.BOARD_WRITER = M.USER_NO)
			   JOIN LOCATION L ON(B.LOCATION_CODE = L.LOCATION_CODE)
			   WHERE B.STATUS = 'Y'
			   ORDER BY COUNT DESC) A)
		WHERE RNUM BETWEEN ? AND ?
	</entry>
	<entry key="insertReply">
		INSERT INTO BOARD_REPLY(BOARD_REPLY_NO, BOARD_REF_BNO, BOARD_REPLY_WRITER, BOARD_REPLY_CONTENT)
		VALUES(SEQ_BRNO.NEXTVAL,?,?,?)
	</entry>
	<entry key="selectReplyList">
		SELECT BOARD_REPLY_NO, USER_ID, BOARD_REPLY_CONTENT, TO_CHAR(R.CREATE_DATE,'YY/MM/DD HH:MI:SS')AS CREATE_DATE
		FROM BOARD_REPLY R
		JOIN MEMBER M ON (R.BOARD_REPLY_WRITER = M.USER_NO)
		WHERE R.BOARD_REF_BNO = ?
		AND R.STATUS = 'Y'
	</entry>
</properties>